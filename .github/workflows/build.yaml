---
  on:
    push:
      branches:
        - main
    pull_request:
      types:
        - opened
        - reopened
        - synchronize
        - edited
  jobs:
    release-draft:
      uses: coopnorge/github-workflow-release-drafter/.github/workflows/release-drafter.yaml@da683f7be5e5d3ffd8df9bdc407abd4ccd7f5029
      secrets:
        PERSONAL_ACCESS_TOKEN: ${{ secrets.REVIEWBOT_GITHUB_TOKEN }}
    build:
      if: always()
      needs: ['release-draft']
      runs-on: ubuntu-latest
      steps:
        - run: exit 1
          name: "Catch errors"
          if: |
            needs.release-draft.result == 'failure'